{"ast":null,"code":"// src/components/SustainableBrands.js\nimport React,{useState}from'react';import axios from'axios';import'./SustainableBrands.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SustainableBrands(){const[brandName,setBrandName]=useState('');const[analysis,setAnalysis]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');// Updated handleSubmit: call backend (which integrates with Google API)\nconst handleSubmit=async e=>{e.preventDefault();if(!brandName.trim()){setError('Please enter a brand name');return;}setLoading(true);setError('');try{// This endpoint should be configured to use the Google API to retrieve\n// a sustainable brand score and context.\nconst response=await axios.post('http://localhost:5000/api/sustainable-brands',{brandName:brandName.trim()});setAnalysis(response.data);}catch(err){console.error('Error analyzing brand:',err);setError('Failed to analyze brand. Please try again.');}finally{setLoading(false);}};const renderGaugeMeter=()=>{if(!analysis||typeof analysis.score!=='number')return null;const angle=analysis.score/100*180;return/*#__PURE__*/_jsx(\"div\",{className:\"gauge-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"gauge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-fill\",style:{transform:`rotate(${angle}deg)`,backgroundColor:analysis.score>50?'#4CAF50':'#FF5252'}}),/*#__PURE__*/_jsx(\"div\",{className:\"gauge-cover\",children:/*#__PURE__*/_jsxs(\"span\",{children:[analysis.score,\"%\"]})})]})});};return/*#__PURE__*/_jsxs(\"div\",{className:\"sustainable-brands\",children:[/*#__PURE__*/_jsxs(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"brand-bg-video\",children:[/*#__PURE__*/_jsx(\"source\",{src:\"https://cdn.pixabay.com/video/2017/01/12/7241-199190972_large.mp4\",type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"brand-overlay\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Is Your Favorite Brand Sustainable-friendly?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:brandName,onChange:e=>setBrandName(e.target.value),placeholder:\"Enter brand name...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Analyzing...':'Analyze Brand'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]}),analysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-results\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Sustainability Analysis for \",analysis.brandName]}),renderGaugeMeter(),/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-text\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sustainability Report\"}),analysis.context&&/*#__PURE__*/_jsx(\"p\",{className:\"brand-context\",children:analysis.context}),/*#__PURE__*/_jsx(\"div\",{className:\"report-content\",children:analysis.analysis.split('\\n').map((paragraph,idx)=>/*#__PURE__*/_jsx(\"p\",{children:paragraph},idx))})]})]})]});}export default SustainableBrands;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","SustainableBrands","brandName","setBrandName","analysis","setAnalysis","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","response","post","data","err","console","renderGaugeMeter","score","angle","className","children","style","transform","backgroundColor","autoPlay","loop","muted","playsInline","src","type","onSubmit","value","onChange","target","placeholder","required","disabled","context","split","map","paragraph","idx"],"sources":["C:/Users/Hardik/OneDrive/Desktop/EcoMark/frontend/src/components/SustainableBrands.js"],"sourcesContent":["// src/components/SustainableBrands.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport './SustainableBrands.css';\r\n\r\nfunction SustainableBrands() {\r\n  const [brandName, setBrandName] = useState('');\r\n  const [analysis, setAnalysis] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  // Updated handleSubmit: call backend (which integrates with Google API)\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!brandName.trim()) {\r\n      setError('Please enter a brand name');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      // This endpoint should be configured to use the Google API to retrieve\r\n      // a sustainable brand score and context.\r\n      const response = await axios.post('http://localhost:5000/api/sustainable-brands', {\r\n        brandName: brandName.trim(),\r\n      });\r\n      setAnalysis(response.data);\r\n    } catch (err) {\r\n      console.error('Error analyzing brand:', err);\r\n      setError('Failed to analyze brand. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderGaugeMeter = () => {\r\n    if (!analysis || typeof analysis.score !== 'number') return null;\r\n    const angle = (analysis.score / 100) * 180;\r\n    return (\r\n      <div className=\"gauge-container\">\r\n        <div className=\"gauge\">\r\n          <div\r\n            className=\"gauge-fill\"\r\n            style={{\r\n              transform: `rotate(${angle}deg)`,\r\n              backgroundColor: analysis.score > 50 ? '#4CAF50' : '#FF5252',\r\n            }}\r\n          ></div>\r\n          <div className=\"gauge-cover\">\r\n            <span>{analysis.score}%</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"sustainable-brands\">\r\n      {/* Background Video */}\r\n      <video autoPlay loop muted playsInline className=\"brand-bg-video\">\r\n        <source\r\n          src=\"https://cdn.pixabay.com/video/2017/01/12/7241-199190972_large.mp4\"\r\n          type=\"video/mp4\"\r\n        />\r\n        Your browser does not support the video tag.\r\n      </video>\r\n      {/* Optional overlay for dark fade at bottom */}\r\n      <div className=\"brand-overlay\"></div>\r\n\r\n      <h1>Is Your Favorite Brand Sustainable-friendly?</h1>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            value={brandName}\r\n            onChange={(e) => setBrandName(e.target.value)}\r\n            placeholder=\"Enter brand name...\"\r\n            required\r\n          />\r\n          <button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Analyzing...' : 'Analyze Brand'}\r\n          </button>\r\n        </div>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </form>\r\n\r\n      {analysis && (\r\n        <div className=\"analysis-results\">\r\n          <h2>Sustainability Analysis for {analysis.brandName}</h2>\r\n          {renderGaugeMeter()}\r\n          <div className=\"analysis-text\">\r\n            <h3>Sustainability Report</h3>\r\n            {analysis.context && (\r\n              <p className=\"brand-context\">\r\n                {analysis.context}\r\n              </p>\r\n            )}\r\n            <div className=\"report-content\">\r\n              {analysis.analysis.split('\\n').map((paragraph, idx) => (\r\n                <p key={idx}>{paragraph}</p>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SustainableBrands;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}