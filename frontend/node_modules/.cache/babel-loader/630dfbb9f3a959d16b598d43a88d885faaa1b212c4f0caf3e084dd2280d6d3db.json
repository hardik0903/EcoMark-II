{"ast":null,"code":"// src/components/SustainableBrands.js\nimport React,{useState}from'react';import'./SustainableBrands.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function SustainableBrands(){const[brandName,setBrandName]=useState('');const[analysisData,setAnalysisData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();setError('');if(!brandName.trim()){setError('Please enter a brand name');return;}setLoading(true);try{// Call the backend at localhost:5000\nconst res=await fetch('http://localhost:5000/api/sustainable-brands',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({brandName})});if(!res.ok){throw new Error(`HTTP error! status: ${res.status}`);}const data=await res.json();setAnalysisData(data);}catch(err){console.error('Error analyzing brand:',err);setError('Failed to analyze brand. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"sustainable-brands\",children:[/*#__PURE__*/_jsxs(\"video\",{autoPlay:true,loop:true,muted:true,playsInline:true,className:\"bg-video\",children:[/*#__PURE__*/_jsx(\"source\",{src:\"https://cdn.pixabay.com/video/2017/01/12/7241-199190972_large.mp4\",type:\"video/mp4\"}),\"Your browser does not support the video tag.\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"video-overlay\"}),/*#__PURE__*/_jsx(\"h1\",{children:\"Is Your Favorite Brand Sustainable-friendly?\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:brandName,onChange:e=>setBrandName(e.target.value),placeholder:\"Enter brand name...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Analyzing...':'Analyze Brand'})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error})]}),analysisData&&/*#__PURE__*/_jsxs(\"div\",{className:\"analysis-results\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Sustainability Analysis for \",analysisData.brandName]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Sustainable Score: \",analysisData.score,\"%\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"report-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:analysisData.analysis}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Context:\"}),\" \",analysisData.context]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Reports for \",analysisData.brandName]}),/*#__PURE__*/_jsx(\"ul\",{children:analysisData.articles.map((article,index)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:article.url,target:\"_blank\",rel:\"noopener noreferrer\",children:article.title})},index))})]}),analysisData.raw_score_response&&/*#__PURE__*/_jsx(\"div\",{className:\"raw-score\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Raw GPT Score Response: \",analysisData.raw_score_response]})})]})]});}export default SustainableBrands;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SustainableBrands","brandName","setBrandName","analysisData","setAnalysisData","loading","setLoading","error","setError","handleSubmit","e","preventDefault","trim","res","fetch","method","headers","body","JSON","stringify","ok","Error","status","data","json","err","console","className","children","autoPlay","loop","muted","playsInline","src","type","onSubmit","value","onChange","target","placeholder","required","disabled","score","analysis","context","articles","map","article","index","href","url","rel","title","raw_score_response"],"sources":["C:/Users/Hardik/OneDrive/Desktop/EcoMark/frontend/src/components/SustainableNews.js"],"sourcesContent":["// src/components/SustainableBrands.js\r\nimport React, { useState } from 'react';\r\nimport './SustainableBrands.css';\r\n\r\nfunction SustainableBrands() {\r\n  const [brandName, setBrandName] = useState('');\r\n  const [analysisData, setAnalysisData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!brandName.trim()) {\r\n      setError('Please enter a brand name');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      // Call the backend at localhost:5000\r\n      const res = await fetch('http://localhost:5000/api/sustainable-brands', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ brandName })\r\n      });\r\n      if (!res.ok) {\r\n        throw new Error(`HTTP error! status: ${res.status}`);\r\n      }\r\n      const data = await res.json();\r\n      setAnalysisData(data);\r\n    } catch (err) {\r\n      console.error('Error analyzing brand:', err);\r\n      setError('Failed to analyze brand. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"sustainable-brands\">\r\n      <video autoPlay loop muted playsInline className=\"bg-video\">\r\n        <source\r\n          src=\"https://cdn.pixabay.com/video/2017/01/12/7241-199190972_large.mp4\"\r\n          type=\"video/mp4\"\r\n        />\r\n        Your browser does not support the video tag.\r\n      </video>\r\n      <div className=\"video-overlay\"></div>\r\n\r\n      <h1>Is Your Favorite Brand Sustainable-friendly?</h1>\r\n\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"form-group\">\r\n          <input\r\n            type=\"text\"\r\n            value={brandName}\r\n            onChange={(e) => setBrandName(e.target.value)}\r\n            placeholder=\"Enter brand name...\"\r\n            required\r\n          />\r\n          <button type=\"submit\" disabled={loading}>\r\n            {loading ? 'Analyzing...' : 'Analyze Brand'}\r\n          </button>\r\n        </div>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </form>\r\n\r\n      {analysisData && (\r\n        <div className=\"analysis-results\">\r\n          <h2>Sustainability Analysis for {analysisData.brandName}</h2>\r\n          <h3>Sustainable Score: {analysisData.score}%</h3>\r\n          <div className=\"report-content\">\r\n            <p>{analysisData.analysis}</p>\r\n            <p>\r\n              <strong>Context:</strong> {analysisData.context}\r\n            </p>\r\n          </div>\r\n          <div className=\"news-section\">\r\n            <h3>Reports for {analysisData.brandName}</h3>\r\n            <ul>\r\n              {analysisData.articles.map((article, index) => (\r\n                <li key={index}>\r\n                  <a href={article.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                    {article.title}\r\n                  </a>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n          {/* Optional debugging: display raw GPT score response */}\r\n          {analysisData.raw_score_response && (\r\n            <div className=\"raw-score\">\r\n              <p>Raw GPT Score Response: {analysisData.raw_score_response}</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SustainableBrands;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}